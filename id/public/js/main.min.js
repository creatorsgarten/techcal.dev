var calendar,calendarEl,dialog=null;const calendars=[{googleCalendarId:"tech.cal.id@gmail.com",className:"indonesia-tech-cal"}],API_KEY="AIzaSyCZDMXYGshyr-XNNTq-jkF5x9HJKhGBcpE",calendarOptions={plugins:["dayGrid","googleCalendar","list"],googleCalendarApiKey:API_KEY,height:600,eventSources:calendars,firstDay:1,header:{left:"prev,next today",center:"title",right:"dayGridMonth,dayGridWeek,listWeek"},eventRender:function(e){e.el.href=`/event/${e.event.id}/${slugify(e.event.title)}`},eventClick:function(e){history.pushState({},"",`/event/${e.event.id}/${slugify(e.event.title)}`),openEventModal(e.event),e.jsEvent.preventDefault()}},defaultTitle=document.title;function openEventModal(e){document.getElementById("event-header").innerHTML=`<h1 id="event-header">${e.title}</h1>`,document.getElementById("event-date").innerHTML=`<i class="fas fa-alarm-clock"></i> ${e.start} - ${e.end}`,document.title=`${e.title} | ${defaultTitle}`,e._def&&e._def.extendedProps.location&&(document.getElementById("event-location").innerHTML=`<i class="fas fa-map-marker-alt"></i> <a href="https://www.google.com/maps/place/${e._def.extendedProps.location}" target="_blank">${e._def.extendedProps.location}</a>`),e._def.extendedProps.description&&(document.getElementById("event-description").innerHTML=`${linkify(e._def.extendedProps.description)}`),document.getElementById("event-link").innerHTML=`<i class="fas fa-link"></i> <a href="${e.url}" target="_blank">${e.url}</a>`,dialog.showModal()}document.addEventListener("DOMContentLoaded",async function(){if(dialog=document.querySelector("dialog"),dialogPolyfill.registerDialog(dialog),window.location.pathname.split("/")[2]){let e=await fetch(`https://www.googleapis.com/calendar/v3/calendars/tech.cal.id@gmail.com/events/${window.location.pathname.split("/")[2]}?key=${API_KEY}`),t=await e.json();t.error&&window.alert("Sorry something went wrong"),t.title=t.summary,t.start=t.start.dateTime,t.end=t.end.dateTime,t.url=t.htmlLink,t._def={extendedProps:{description:t.description||"",location:t.location||""}},openEventModal(t)}loadCalendar(),loadServiceWorker(),loadGoogleAnalytics()}),document.getElementById("dialog-close").addEventListener("click",e=>{history.pushState({},"","/"),dialog.close()}),document.getElementById("how-to-add-link").addEventListener("click",e=>{e.preventDefault();let t=document.getElementById("instruction").style.display;document.getElementById("instruction").style.display="block"===t?"none":"block"});const loadGoogleAnalytics=()=>{function e(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],e("js",new Date),e("config","UA-99894003-2")},loadServiceWorker=()=>{"serviceWorker"in navigator&&navigator.serviceWorker.register("/service-worker.js")},loadCalendar=()=>{calendarEl=document.getElementById("calendar"),(calendar=new FullCalendar.Calendar(calendarEl,calendarOptions)).render()},linkify=e=>{var t,a,n;return t=/(\b(https?|ftp):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/gim,a=/(^|[^\/])(www\.[\S]+(\b|$))/gim,n=/(([a-zA-Z0-9\-\_\.])+@[a-zA-Z\_]+?(\.[a-zA-Z]{2,6})+)/gim,e.replace(t,'<a href="$1" target="_blank">$1</a>').replace(a,'$1<a href="http://$2" target="_blank">$2</a>').replace(n,'<a href="mailto:$1">$1</a>')},showMeetup=()=>{};